---
title: 分库规则描述
date: 2020-07-26
type: book
weight : 10
---

## 作用

业务数据库可以采用分库规则来实现分布式集群来应对大数据量存储与访问。目前TIS使用简单DSL规则实现多库枚举功能。

## 详细
通过分库DSL规则，可以实现多种分库枚举策略。

 {{% callout warning %}}
  需要用户在枚举的多库中被导的表结构具有相同的结构，不然在数据导入系统过程中会出现不可预知的错误
 {{% /callout %}}

|||
|--|--|
| 现在假设用户输入的数据库名称为`order`,用户可以在**节点描述**中填写不同的规则来实现不同的数据库枚举| {{<figure src="../multi-ds-rule-input.png">}} |


### 单节点单库

> 192.168.28.200

会导入 192.168.28.200:3306 节点的 `order`库

### 单节点多库

> 192.168.28.200[00-07]

会导入 192.168.28.200:3306 节点的 `order00`,`order01`,`order02`,`order03`,`order04`,`order05`,`order06`,`order07`8个库

也可以将**节点描述**写成：

> 192.168.28.200[0-7]

则会导入 192.168.28.200:3306 节点的 `order0`,`order1`,`order2`,`order3`,`order4`,`order5`,`order6`,`order7`8个库

### 多节点多库

>192.168.28.200[00-07],192.168.28.201[08-15]

会导入 192.168.28.200:3306 节点的 `order00`,`order01`,`order02`,`order03`,`order04`,`order05`,`order06`,`order07`8个库
和 192.168.28.201:3306 节点的 `order08`,`order09`,`order10`,`order11`,`order12`,`order13`,`order14`,`order15`8个库，共计16个库


